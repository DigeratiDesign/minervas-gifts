"use strict";(()=>{var w=()=>{let o=document.querySelector('[dd-skip-to-main-content="trigger"]'),i=document.querySelector('[dd-skip-to-main-content="target"]');!o||!i||["click","keypress"].forEach(n=>{o.addEventListener(n,r=>{r.type==="keydown"&&r.which!==13||(r.preventDefault(),i.setAttribute("tabindex","-1"),i.focus())})})};var D=()=>{let o=document.querySelector('[dd-date="current-year"]');if(!o)return;let i=new Date().getFullYear();o.innerText=i.toString()};var M=()=>{let o=document.querySelectorAll('[dd-gift="type"]');if(!o)return;let i=()=>{document.querySelectorAll('[dd-gift="variants"]').forEach(r=>{r.classList.add("hide");let c=r.querySelectorAll('input[type="radio"]');c&&c.forEach(s=>{s.setAttribute("disabled","true")})})};i(),o.forEach(n=>{n.addEventListener("click",r=>{let c=r.target,s=n.querySelector('[dd-gift="variants"]');if(s&&c&&s.contains(c))return;if(r.preventDefault(),i(),s){s.classList.remove("hide");let u=s.querySelectorAll('input[type="radio"]');u&&u.forEach(h=>{h.removeAttribute("disabled")})}let f=n.querySelector('input[type="radio"][name="Gift"]')||n.querySelector('input[type="radio"][data-name="Gift"]');f&&(f.checked=!0,f.dispatchEvent(new Event("change",{bubbles:!0}))),n instanceof HTMLElement&&n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})})})},v=()=>{let o=document.querySelector('input[type="submit"]');o&&o.addEventListener("click",()=>{if(!document.querySelector("form"))return;let n=document.querySelectorAll('input[type="radio"]');n&&n.forEach(r=>{r.disabled&&r.remove()})})};var T=()=>{console.group("%c[Star Animation] Init","color: lime"),console.log("[Safari Debug] Function called."),console.log("[Safari Debug] GSAP globals:",{TweenLite:typeof TweenLite,TimelineMax:typeof TimelineMax,RoughEase:typeof RoughEase,Linear:typeof Linear});let o=document.querySelector('[dd-animation="star"]');if(console.log("[Safari Debug] baseStar found:",!!o),!o){console.warn("[Safari Debug] No baseStar... EXITING."),console.groupEnd();return}let i=.3,n=.8,r=2,c=6,s=.3,f=1,u=50,h=300,p=[],S=[],a=(e,t)=>{if(t==null&&(t=e,e=0),e>t){let d=e;e=t,t=d}return e+(t-e)*Math.random()};console.log("[Safari Debug] Building eases\u2026");try{for(let e=0;e<u;e++){let t=new RoughEase({template:Linear.easeNone,strength:a(1,3),points:Math.floor(a(50,200)),taper:"both",randomize:!0,clamp:!0});S.push(t)}console.log("[Safari Debug] eases created:",S.length)}catch(e){console.error("[Safari Debug] FAILED creating RoughEase:",e),console.groupEnd();return}console.log("[Safari Debug] document.readyState:",document.readyState);let E=()=>{console.group("%c[Safari Debug] onLoad()","color: cyan"),console.log("[onLoad] Fired."),L();try{o.remove(),console.log("[onLoad] baseStar removed.")}catch(e){console.warn("[onLoad] Could not remove baseStar:",e)}console.groupEnd()},A=()=>{console.group("%c[Safari Debug] onResize()","color: yellow"),q(),L(),console.groupEnd()};document.readyState==="complete"?(console.log("[Safari Debug] load already fired \u2192 calling onLoad() immediately."),E()):(console.log("[Safari Debug] attaching window.load listener."),window.addEventListener("load",E)),console.log("[Safari Debug] attaching window.resize listener."),window.addEventListener("resize",A);function L(){console.group("[Safari Debug] createStars()");let e=document.querySelectorAll('[dd-animation="background"]');console.log("[Safari Debug] Containers found:",e.length),e.forEach((t,d)=>{let l=t.getAttribute("dd-star-count"),g=l?parseInt(l,10):h;console.log(`[Safari Debug] Container ${d+1}: using star count = ${g}`),t.style.position||(t.style.position="relative"),t.style.overflow||(t.style.overflow="hidden");let m=t.offsetWidth,b=t.offsetHeight;console.log(`[Safari Debug] Container ${d+1}: size = ${m} x ${b}`);for(let y=0;y<g;y++)y===0&&console.log("[Safari Debug] Creating first star in container",d+1),p.push(k(t,m,b))}),console.log("[Safari Debug] Total stars created:",p.length),console.groupEnd()}function q(){console.group("[Safari Debug] clearStars()"),p.forEach((e,t)=>{t===0&&console.log("[Safari Debug] Killing first timeline + removing star"),e.timeline.kill(),e.element.remove()}),console.log("[Safari Debug] Stars removed:",p.length),p=[],console.groupEnd()}function k(e,t,d){let l=o.cloneNode(!0);e.appendChild(l),TweenLite.set(l,{rotation:a(360),xPercent:-50,yPercent:-50,scale:0,x:a(t),y:a(d)});let g=new TimelineMax({repeat:-1,yoyo:!0});for(let m=0;m<u;m++){let b=S[Math.floor(a(u))],y=S[Math.floor(a(u))],H=a(.7,1),C=a(.15,.4),x="+="+a(i,n),G="+="+a(r,c),R=a(s,f),I=a(s,f);g.to(l,R,{autoAlpha:H,scale:C,ease:b},G).to(l,I,{autoAlpha:0,scale:0,ease:y},x)}return g.progress(a(1)),{element:l,timeline:g}}console.groupEnd()};window.Webflow;window.Webflow.push(()=>{w(),D(),v(),M(),T()});})();
