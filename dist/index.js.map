{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/digerati/skipToMainContent.ts", "../src/digerati/currentYear.ts", "../src/minerva/giftForm.ts", "../src/minerva/starAnimation.ts", "../src/index.ts"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "/**\n * Skip to Main Content.\n * \n * @author <cabal@digerati.design>\n */\nexport const skipToMainContent = () => {\n    const trigger = document.querySelector('[dd-skip-to-main-content=\"trigger\"]'),\n        target = document.querySelector('[dd-skip-to-main-content=\"target\"]');\n    if (!trigger || !target) {\n        return;\n    }\n    ['click', 'keypress'].forEach((event) => {\n        trigger.addEventListener(event, (e) => {\n            if (e.type === 'keydown' && e.which !== 13) {\n                return;\n            }\n            e.preventDefault();\n            target.setAttribute('tabindex', '-1');\n            target.focus();\n        });\n    });\n};\n\n", "/**\n * Current Year.\n * \n * @author <cabal@digerati.design>\n */\nexport const currentYear = () => {\n    const target = document.querySelector('[dd-date=\"current-year\"]');\n    if (!target) {\n        return;\n    }\n    const fullYear = new Date().getFullYear();\n    target.innerText = fullYear.toString();\n};\n\n", "/**\n * Display Gift Variants.\n * \n * @author <cabal@digerati.design>\n */\nexport const displayGiftVariants = () => {\n    const gifts = document.querySelectorAll('[dd-gift=\"type\"]');\n    if (!gifts) {\n        return;\n    }\n    /**\n     * Disable Gift Variants.\n     */\n    const disableGiftVariants = () => {\n        const allGiftVariants = document.querySelectorAll('[dd-gift=\"variants\"]');\n        allGiftVariants.forEach(variant => {\n            variant.classList.add('hide');\n            let variantRadioButtons = variant.querySelectorAll('input[type=\"radio\"]');\n            if (!variantRadioButtons) {\n                return;\n            }\n            variantRadioButtons.forEach(variantRadioButton => {\n                variantRadioButton.setAttribute('disabled', true);\n            });\n        });\n    };\n    disableGiftVariants();\n    /**\n     * Add Click Handler.\n     */\n    gifts.forEach(gift => {\n        gift.addEventListener('click', (): void => {\n            disableGiftVariants();\n            let giftVariants = gift.querySelector('[dd-gift=\"variants\"]');\n            if (!giftVariants) {\n                return;\n            }\n            giftVariants.classList.remove('hide');\n            let giftVariantRadioButtons = giftVariants.querySelectorAll('input[type=\"radio\"]');\n            if (!giftVariantRadioButtons) {\n                return;\n            }\n            giftVariantRadioButtons.forEach(giftVariantRadioButton => {\n                giftVariantRadioButton.removeAttribute('disabled');\n            });\n        });\n    });\n};\n/**\n * Clean Form POST Data.\n * \n * @author <cabal@digerati.design>\n */\nexport const cleanFormPostData = () => {\n    const submitButton = document.querySelector('input[type=\"submit\"]');\n    if (!submitButton) {\n        return;\n    }\n    submitButton.addEventListener('click', () => {\n        const giftForm = document.querySelector('form');\n        if (!giftForm) {\n            return;\n        }\n        let radioButtons = document.querySelectorAll('input[type=\"radio\"]');\n        if (!radioButtons) {\n            return;\n        }\n        radioButtons.forEach(radioButton => {\n            if (radioButton.disabled) {\n                radioButton.remove();\n            }\n        });\n    });\n};\n\n", "/**\n * Star Animation (Safari Debug Mode).\n *\n * Direct TS port of the original Webflow cloneable script\n * with detailed logging to debug Safari behaviour.\n *\n * @author <cabal@digerati.design>\n */\n\n// GSAP globals (loaded via <script>, not imported)\ndeclare const TweenLite: any,\n    TimelineMax: any,\n    RoughEase: any,\n    Linear: any;\n\nexport const starAnimation = () => {\n    console.group('%c[Star Animation] Init', 'color: lime');\n    console.log('[Safari Debug] Function called.');\n\n    // Check GSAP globals\n    console.log('[Safari Debug] GSAP globals:', {\n        TweenLite: typeof TweenLite,\n        TimelineMax: typeof TimelineMax,\n        RoughEase: typeof RoughEase,\n        Linear: typeof Linear,\n    });\n\n    const baseStar = document.querySelector<HTMLElement>('[dd-animation=\"star\"]');\n    console.log('[Safari Debug] baseStar found:', !!baseStar);\n\n    if (!baseStar) {\n        console.warn('[Safari Debug] No baseStar... EXITING.');\n        console.groupEnd();\n        return;\n    }\n\n    const appearMin = 0.3,\n        appearMax = 0.8,\n        delayMin = 2,\n        delayMax = 6,\n        durationMin = 0.3,\n        durationMax = 1,\n        numAnimations = 50,\n        numStars = 300;\n\n    let stars: { element: HTMLElement; timeline: any }[] = [];\n    const eases: any[] = [];\n\n    const random = (min: number, max?: number): number => {\n        if (max == null) { max = min; min = 0; }\n        if (min > max) { const tmp = min; min = max; max = tmp; }\n        return min + (max - min) * Math.random();\n    };\n\n    console.log('[Safari Debug] Building eases\u2026');\n    try {\n        for (let i = 0; i < numAnimations; i++) {\n            const ease = new RoughEase({\n                template: Linear.easeNone,\n                strength: random(1, 3),\n                points: Math.floor(random(50, 200)),\n                taper: 'both',\n                randomize: true,\n                clamp: true,\n            });\n            eases.push(ease);\n        }\n        console.log('[Safari Debug] eases created:', eases.length);\n    } catch (err) {\n        console.error('[Safari Debug] FAILED creating RoughEase:', err);\n        console.groupEnd();\n        return;\n    }\n\n    // --- LOAD / RESIZE WIRING WITH READY STATE CHECK ---\n    console.log('[Safari Debug] document.readyState:', document.readyState);\n\n    const onLoad = () => {\n        console.group('%c[Safari Debug] onLoad()', 'color: cyan');\n        console.log('[onLoad] Fired.');\n        createStars();\n\n        try {\n            baseStar.remove();\n            console.log('[onLoad] baseStar removed.');\n        } catch (e) {\n            console.warn('[onLoad] Could not remove baseStar:', e);\n        }\n        console.groupEnd();\n    };\n\n    const onResize = () => {\n        console.group('%c[Safari Debug] onResize()', 'color: yellow');\n        clearStars();\n        createStars();\n        console.groupEnd();\n    };\n\n    if (document.readyState === 'complete') {\n        console.log('[Safari Debug] load already fired \u2192 calling onLoad() immediately.');\n        onLoad();\n    } else {\n        console.log('[Safari Debug] attaching window.load listener.');\n        window.addEventListener('load', onLoad);\n    }\n\n    console.log('[Safari Debug] attaching window.resize listener.');\n    window.addEventListener('resize', onResize);\n\n    // --- CORE STAR LOGIC ---\n\n    function createStars() {\n        console.group('[Safari Debug] createStars()');\n        const twinklingStars = document.querySelectorAll<HTMLElement>('[dd-animation=\"background\"]');\n        console.log('[Safari Debug] Containers found:', twinklingStars.length);\n\n        twinklingStars.forEach((element, index) => {\n            // Read per-container star count\n            const customCountAttr = element.getAttribute('dd-star-count');\n            const thisContainerStarCount = customCountAttr\n                ? parseInt(customCountAttr, 10)\n                : numStars;\n\n            console.log(\n                `[Safari Debug] Container ${index + 1}: using star count = ${thisContainerStarCount}`\n            );\n\n            // Ensure overlay positioning\n            if (!element.style.position) element.style.position = 'relative';\n            if (!element.style.overflow) element.style.overflow = 'hidden';\n\n            const elementWidth = element.offsetWidth;\n            const elementHeight = element.offsetHeight;\n\n            console.log(\n                `[Safari Debug] Container ${index + 1}: size = ${elementWidth} x ${elementHeight}`\n            );\n\n            for (let i = 0; i < thisContainerStarCount; i++) {\n                if (i === 0) console.log('[Safari Debug] Creating first star in container', index + 1);\n                stars.push(createStar(element, elementWidth, elementHeight));\n            }\n        });\n\n        console.log('[Safari Debug] Total stars created:', stars.length);\n        console.groupEnd();\n    }\n\n    function clearStars() {\n        console.group('[Safari Debug] clearStars()');\n        stars.forEach((star, i) => {\n            if (i === 0) console.log('[Safari Debug] Killing first timeline + removing star');\n            star.timeline.kill();\n            star.element.remove();\n        });\n        console.log('[Safari Debug] Stars removed:', stars.length);\n        stars = [];\n        console.groupEnd();\n    }\n\n    function createStar(parentElement: HTMLElement, width: number, height: number) {\n        const star = baseStar.cloneNode(true) as HTMLElement;\n        parentElement.appendChild(star);\n\n        TweenLite.set(star, {\n            rotation: random(360),\n            xPercent: -50,\n            yPercent: -50,\n            scale: 0,\n            x: random(width),\n            y: random(height),\n        });\n\n        const tl = new TimelineMax({ repeat: -1, yoyo: true });\n\n        for (let i = 0; i < numAnimations; i++) {\n            const ease1 = eases[Math.floor(random(numAnimations))];\n            const ease2 = eases[Math.floor(random(numAnimations))];\n\n            const alpha = random(0.7, 1);\n            const scale = random(0.15, 0.4);\n\n            const appear = '+=' + random(appearMin, appearMax);\n            const delay = '+=' + random(delayMin, delayMax);\n            const duration1 = random(durationMin, durationMax);\n            const duration2 = random(durationMin, durationMax);\n\n            tl.to(star, duration1, { autoAlpha: alpha, scale: scale, ease: ease1 }, delay)\n                .to(star, duration2, { autoAlpha: 0, scale: 0, ease: ease2 }, appear);\n        }\n\n        tl.progress(random(1));\n\n        return {\n            element: star,\n            timeline: tl,\n        };\n    }\n\n    console.groupEnd();\n};", "import { skipToMainContent } from \"$digerati/skipToMainContent\";\nimport { currentYear } from \"$digerati/currentYear\";\nimport { displayGiftVariants, cleanFormPostData } from \"$minerva/giftForm\";\nimport { starAnimation } from \"$minerva/starAnimation\";\n\nwindow.Webflow || [];\nwindow.Webflow.push(() => {\n  skipToMainContent();\n  currentYear();\n  cleanFormPostData();\n  displayGiftVariants();\n  starAnimation();\n});"],
  "mappings": "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",
  "names": []
}
